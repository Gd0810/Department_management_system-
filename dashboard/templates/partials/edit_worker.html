{% include "tost.html" %}

<section class="w-full max-w-none px-3 py-4 sm:px-4 lg:px-6">
  <div class="theme-panel overflow-hidden rounded-2xl border shadow-sm transition-colors">
    <div class="theme-panel-soft border-b px-4 py-5 sm:px-6">
      <div class="flex items-center justify-between gap-3">
        <div>
          <h2 class="theme-text text-xl font-semibold tracking-tight">Edit Team Member</h2>
          <p class="theme-muted text-sm">Update worker details and status.</p>
        </div>
        <button
          type="button"
          class="theme-btn-secondary inline-flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium"
          hx-get="{% url 'team' %}"
          hx-target="#content"
          hx-swap="innerHTML"
        >
          <span class="material-symbols-rounded text-base">arrow_back</span>
          Back To Team
        </button>
      </div>
    </div>

    <div class="px-4 py-5 sm:px-6">
      <form
        method="post"
        enctype="multipart/form-data"
        action="{% url 'edit_worker' worker.id %}"
        hx-post="{% url 'edit_worker' worker.id %}"
        hx-target="#content"
        hx-swap="innerHTML"
        class="space-y-5"
      >
        {% csrf_token %}

        <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
          <div>
            <label for="worker_type" class="theme-text mb-1.5 block text-sm font-medium">Worker Type</label>
            <select id="worker_type" name="worker_type" required class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
              <option value="">Select Worker Type</option>
              <option value="staff" {% if form_data.worker_type == 'staff' %}selected{% endif %}>Staff</option>
              <option value="intern" {% if form_data.worker_type == 'intern' %}selected{% endif %}>Intern</option>
            </select>
          </div>

          <div>
            <label for="working_status" class="theme-text mb-1.5 block text-sm font-medium">Working Status</label>
            <select id="working_status" name="working_status" required class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
              <option value="">Select Working Status</option>
              <option value="joind" {% if form_data.working_status == 'joind' %}selected{% endif %}>Joined</option>
              <option value="on board" {% if form_data.working_status == 'on board' %}selected{% endif %}>On Board</option>
              <option value="relived" {% if form_data.working_status == 'relived' %}selected{% endif %}>Relived</option>
            </select>
          </div>

          <div>
            <label for="name" class="theme-text mb-1.5 block text-sm font-medium">Name</label>
            <input type="text" id="name" name="name" maxlength="150" required value="{{ form_data.name|default:'' }}" class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
          </div>

          <div>
            <label for="email" class="theme-text mb-1.5 block text-sm font-medium">Email</label>
            <input type="email" id="email" name="email" value="{{ form_data.email|default:'' }}" class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
          </div>

          <div>
            <label for="date_of_join" class="theme-text mb-1.5 block text-sm font-medium">Date Of Join</label>
            <input type="date" id="date_of_join" name="date_of_join" required value="{{ form_data.date_of_join|default:'' }}" class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
          </div>

          <div>
            <label for="posting" class="theme-text mb-1.5 block text-sm font-medium">Posting</label>
            <input type="text" id="posting" name="posting" maxlength="150" required value="{{ form_data.posting|default:'' }}" class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
          </div>

          <div>
            <label for="department_role" class="theme-text mb-1.5 block text-sm font-medium">Department Role</label>
            <input type="text" id="department_role" name="department_role" maxlength="100" required value="{{ form_data.department_role|default:'' }}" class="theme-input w-full rounded-xl border py-2.5 px-3 outline-none transition">
          </div>

          <div>
            <label for="image" class="theme-text mb-1.5 block text-sm font-medium">Profile Image (optional)</label>
            <input type="file" id="image" name="image" accept="image/*" class="theme-input w-full rounded-xl border py-2.5 px-3 file:mr-4 file:rounded-lg file:border-0 file:bg-indigo-600 file:px-3 file:py-2 file:text-sm file:font-medium file:text-white hover:file:bg-indigo-500">
          </div>
        </div>

        <div class="flex flex-col-reverse gap-3 sm:flex-row sm:justify-end">
          <button
            type="button"
            class="theme-btn-secondary inline-flex items-center justify-center rounded-xl border px-5 py-2.5 text-sm font-medium transition"
            hx-get="{% url 'team' %}"
            hx-target="#content"
            hx-swap="innerHTML"
          >
            Cancel
          </button>
          <button type="submit" class="theme-btn-primary inline-flex items-center justify-center gap-2 rounded-xl px-5 py-2.5 text-sm font-semibold shadow-md transition focus:outline-none">
            <iconify-icon icon="material-symbols:save-rounded" width="18" height="18"></iconify-icon>
            Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
