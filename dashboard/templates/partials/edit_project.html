{% include "tost.html" %}

<div id="editProjectRoot" class="form-loading">
  {% include "partials/components/form_skeleton_markup.html" %}
  <div class="form-real">
<section class="w-full max-w-none px-3 py-4 sm:px-4 lg:px-6">
  <div class="theme-panel overflow-hidden rounded-2xl border shadow-sm transition-colors">
    <div class="theme-panel-soft border-b px-4 py-5 sm:px-6">
      <div class="flex items-center gap-3">
        <div class="flex h-11 w-11 items-center justify-center rounded-xl bg-indigo-600 text-white shadow-md">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 17.25V21h3.75L19.81 7.94l-3.75-3.75L3 17.25ZM21.41 6.53a1.25 1.25 0 0 0 0-1.77l-2.17-2.17a1.25 1.25 0 0 0-1.77 0l-1.7 1.7 3.75 3.75 1.89-1.51Z"/>
          </svg>
        </div>
        <div>
          <h2 class="theme-text text-xl font-semibold tracking-tight">Edit Project</h2>
          <p class="theme-muted text-sm">Update project details and save changes.</p>
        </div>
      </div>
    </div>

    <div class="px-4 py-5 sm:px-6">
      <form
        method="post"
        action="{% url 'edit_project' project.id %}"
        hx-post="{% url 'edit_project' project.id %}"
        hx-target="#content"
        hx-swap="innerHTML"
        class="space-y-5"
      >
        {% csrf_token %}

        <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
          <div class="md:col-span-2">
            <label for="title" class="theme-text mb-1.5 block text-sm font-medium">Project Title</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M4 5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2H4V5Zm0 4h16v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9Z"/></svg>
              </span>
              <input type="text" id="title" name="title" maxlength="200" required value="{{ form_data.title|default:'' }}" placeholder="Enter project title" class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
            </div>
          </div>

          <div>
            <label for="category" class="theme-text mb-1.5 block text-sm font-medium">Project Category</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M3 6a3 3 0 0 1 3-3h5v6H3V6Zm0 6h8v9H6a3 3 0 0 1-3-3v-6Zm10 9v-9h8v6a3 3 0 0 1-3 3h-5Zm0-18h5a3 3 0 0 1 3 3v3h-8V3Z"/></svg>
              </span>
              <select id="category" name="category" required class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
                <option value="">Select Category</option>
                <option value="client" {% if form_data.category == 'client' %}selected{% endif %}>Client</option>
                <option value="company" {% if form_data.category == 'company' %}selected{% endif %}>Company</option>
                <option value="internship" {% if form_data.category == 'internship' %}selected{% endif %}>Internship</option>
                <option value="academy" {% if form_data.category == 'academy' %}selected{% endif %}>Academy</option>
              </select>
            </div>
          </div>

          <div>
            <label for="work_type" class="theme-text mb-1.5 block text-sm font-medium">Work Type</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2h10v2h3a2 2 0 0 1 2 2v3H2V6a2 2 0 0 1 2-2h3V2Zm15 9v7a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4v-7h20Z"/></svg>
              </span>
              <select id="work_type" name="work_type" required class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
                <option value="">Select Work Type</option>
                <option value="solo" {% if form_data.work_type == 'solo' %}selected{% endif %}>Solo</option>
                <option value="group" {% if form_data.work_type == 'group' %}selected{% endif %}>Group</option>
              </select>
            </div>
          </div>

          <div>
            <label for="start_date" class="theme-text mb-1.5 block text-sm font-medium">Start Date</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <iconify-icon icon="clarity:calendar-solid" width="20" height="20"></iconify-icon>
              </span>
              <input type="date" id="start_date" name="start_date" required value="{{ form_data.start_date|default:'' }}" class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
            </div>
          </div>

          <div>
            <label for="status" class="theme-text mb-1.5 block text-sm font-medium">Project Status</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2 3 7v6c0 5 3.84 8.74 9 9 5.16-.26 9-4 9-9V7l-9-5Zm-1 13-3-3 1.41-1.41L11 12.17l3.59-3.58L16 10l-5 5Z"/></svg>
              </span>
              <select id="status" name="status" required class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
                <option value="">Select Status</option>
                <option value="started" {% if form_data.status == 'started' %}selected{% endif %}>Started</option>
                <option value="ongoing" {% if form_data.status == 'ongoing' %}selected{% endif %}>Ongoing</option>
                <option value="on_hold" {% if form_data.status == 'on_hold' %}selected{% endif %}>On Hold</option>
                <option value="canceled" {% if form_data.status == 'canceled' %}selected{% endif %}>Canceled</option>
                <option value="finished" {% if form_data.status == 'finished' %}selected{% endif %}>Finished</option>
              </select>
            </div>
          </div>

          <div>
            <label for="amount" class="theme-text mb-1.5 block text-sm font-medium">Amount</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <iconify-icon icon="ri:money-rupee-circle-fill" width="24" height="24"></iconify-icon>
              </span>
              <input type="number" id="amount" name="amount" step="0.01" min="0" value="{{ form_data.amount|default:'' }}" placeholder="Enter amount" class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
            </div>
          </div>

          <div>
            <label for="github_link" class="theme-text mb-1.5 block text-sm font-medium">GitHub Link</label>
            <div class="relative">
              <span class="theme-muted pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                <iconify-icon icon="garden:github-stroke-12" width="22" height="22"></iconify-icon>
              </span>
              <input type="url" id="github_link" name="github_link" value="{{ form_data.github_link|default:'' }}" placeholder="https://github.com/..." class="theme-input w-full rounded-xl border py-2.5 pl-10 pr-3 outline-none transition">
            </div>
          </div>
        </div>

        <div class="flex flex-col-reverse gap-3 sm:flex-row sm:justify-end">
          <button
            type="button"
            class="theme-btn-secondary inline-flex items-center justify-center rounded-xl border px-5 py-2.5 text-sm font-medium transition"
            hx-get="{{ back_url }}"
            hx-target="#content"
            hx-swap="innerHTML"
          >
            Cancel
          </button>
          <button type="submit" class="theme-btn-primary inline-flex items-center justify-center gap-2 rounded-xl px-5 py-2.5 text-sm font-semibold shadow-md transition focus:outline-none">
            <iconify-icon icon="material-symbols:save-rounded" width="22" height="22"></iconify-icon>
            Save Project
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
  </div>
</div>
{% include "partials/components/form_skeleton_assets.html" with skeleton_root_id="editProjectRoot" skeleton_delay_ms=420 %}
